const recommendationData = [
  {
    title:"A Comic Artist’s Survival Guide",
    coverURL:"https://www.asurascans.com/wp-content/uploads/2022/04/cover1.jpg",
    shortURL:"https://www.asurascans.com/?p=96792",
    MangaUrl:"https://www.asurascans.com/manga/1660333069-a-comic-artists-survival-guide/",
    synopsis:"Snow, a failing comic artist whose comic is about to be discontinued, reincarnates into his own comic by chance. In his comic, the Pante Continent is on the verge of ruin due to the expansion of the Demon King’s army, resulting in Snow being in danger as well. Just as his life was about to end, Snow receives an opportunity to survive, with the condition that he takes over the author’s role and rewrites the entire comic’s storyline. If he fails to ” create” a more interesting story, then Snow and the comic world would be destroyed…",
    slug:"a-comic-artists-survival-guide",
    _type:"asura",
    ScrapeDate:"Wed, 07 Sep 2022 20:57:20 GMT",
    genre:{
      0:"Action",
      1:"Adventure",
      2:"Fantasy",
      3:"Isekai",
      4:"Shounen"},
  },
  {
      title:"Reaper of the Drifting Moon",
coverURL:"https://www.asurascans.com/wp-content/uploads/2022/07/Reaper-Moon-Cover-Animation_Compressed.gif",
shortURL:"https://www.asurascans.com/?p=112859",
MangaUrl:"https://www.asurascans.com/manga/1660333069-reaper-of-the-drifting-moon/",
synopsis:"[From the author of Legend Of The Northern Blade.]<br>He’s in the deepest part of the Jianghu. Keep your eyes wide ,open if you do not wish to get dragged into the abyss.",
slug:"reaper-of-the-drifting-moon",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:58:26 GMT",
genre:{
0:"Action",
1:"Fantasy",
2:"Genius MC",
3:"Martial Arts",
4:"Murim"}
  },
  {
      title:"Standard of Reincarnation",
coverURL:"https://www.asurascans.com/wp-content/uploads/2022/08/standardofReCover03.png",
shortURL:"https://www.asurascans.com/?p=119179",
MangaUrl:"https://www.asurascans.com/manga/1660333069-standard-of-reincarnation/",
synopsis:"The greatest martial family, Samion. Daven, a member of the Samion family, is a one-armed martial soldier without a right arm. Despite the ridicule and contempt he got for only having a left arm, he surpassed the direct line of the Samion family like a genius. However, he got betrayed by his family and parents in the end, thus meeting a poor end. But, he was reincarnated. “I have a right arm?” He had a new family tradition. A naturally gifted body. Experience from his past life. And the god Yulion with him as well. After his reincarnation, everything changed, and a new adventure started.",
slug:"standard-of-reincarnation",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:58:52 GMT",
genre:{
0:"Action",
1:"Adventure",
2:"Fantasy",
3:"Martial Arts",
4:"Reincarnation"}
  },
  {
      title:"Existence",
coverURL:"https://www.asurascans.com/wp-content/uploads/2022/08/kitaresourceimg.jpeg",
shortURL:"https://www.asurascans.com/?p=122537",
MangaUrl:"https://www.asurascans.com/manga/existence/",
synopsis:"One day, it was a herd of ants, and another day, it was a large dinosaur.<br>This was the last reincarnation of a being that had experienced tens of thousands of reincarnations and lives.<br>He was born as a human with the power of every single lifeform he had ever been.<br>Why did he have such an ability?<br>Lee Jain finally came to understand.<br>“I exist to eradicate mankind.”",
slug:"existence",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:57:38 GMT",
genre:
{0:"Action",
1:"Adventure",
2:"Fantasy",
3:"Overpowered"}
  },
  {
      title:"Return of the SSS-Class Ranker",
coverURL:"https://www.asurascans.com/wp-content/uploads/2022/08/ReturnSSSCover01.png",
shortURL:"https://www.asurascans.com/?p=120598",
MangaUrl:"https://www.asurascans.com/manga/return-of-the-sss-class-ranker/",
synopsis:"Rokan was the ‘King of Violence’ who reigned as the strongest in the virtual reality game, ‘The Lord’. Unfortunately, the assassination order issued by an enemy guild caused him to lose everything. To his surprise, the next time he woke up, he had returned back to three years ago!<br>“Fucking brats, just you wait. I’ll devour you all!”<br>A new story begins as Rokan, who travelled back in time, climbs his way back to the top!",
slug:"return-of-the-sss-class-ranker",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:58:38 GMT",
genre:
{0:"Action",
1:"Adventure",
2:"Fantasy",
3:"Shounen"}
  },
  {
      title:"Shadowless Night",
coverURL:"https://www.asurascans.com/wp-content/uploads/2022/08/resource.jpeg",
shortURL:"https://www.asurascans.com/?p=121970",
MangaUrl:"https://www.asurascans.com/manga/shadowless-night/",
synopsis:"When you enter the deep forest, you will be devoured by the shadow. The shadow in the forest moves when no one is looking. In the deep forest, there is a shadow that mimics humans. The shadow speaks.<br>Rosalin of the White Night Chivalric Order went missing after suffering from an unexpected enemy attack during a hunting competition. They were able to find her unconscious and heavily wounded under a cliff, but when she woke up a few days later, she was rendered incapable of even simple speech due to acute amensia.<br>She roamed around the house, barefoot in her pyjamas, and spoke without honorifics. She would even eat food off the floor!<br>She’s bizarre, no matter how you look at it. Is this truly Rosalin?",
slug:"shadowless-night",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:58:43 GMT",
genre:
{0:"Action",
1:"Adventure",
2:"Fantasy",
3:"Mature",
4:"Romance"}
  },
  {
      title:"Damn Reincarnation",
coverURL:"https://www.asurascans.com/wp-content/uploads/2022/06/Damn_ReincarnationCover003.png",
shortURL:"https://www.asurascans.com/?p=107248",
MangaUrl:"https://www.asurascans.com/manga/1660333069-damn-reincarnation/",
synopsis:"[From the author of Worthless Regression]<br>Hamel, a warrior who traveled with his colleagues to exterminate the devil. Unfortunately, he died just before the battle with the devil started. “Yes.” What the hell? He was reborn as the descendant of his fellow warrior, Vermouth. The descendant from the bloodline of the great Vermouth, Hamel. No, he was now Eugene Lionhart. “It was already enough with me having the delusion that I was a genius in my past life. But… this… It’s… It’s incomparable.’ From a dying body to a new body, he has the achievement that he did not have in his previous life. And, a reincarnation of an unknown origin, the reality of living together with the demons. Facing a new world where everything is questionable. The journey of the unfinished previous life begins with Eugene’s body.",
slug:"damn-reincarnation",
_type:"asura",
ScrapeDate:"Sun, 18 Sep 2022 05:48:42 GMT",
genre:
{0:"Action",
1:"Adventure",
2:"Fantasy",
3:"Reincarnation",
4:"Shounen"}
  },
  {
      title:"Solo Max-Level Newbie",
coverURL:"https://www.asurascans.com/wp-content/uploads/2021/07/solomaxlevelnewbie.jpg",
shortURL:"https://www.asurascans.com/?p=52313",
MangaUrl:"https://www.asurascans.com/manga/1660333069-solo-max-level-newbie/",
synopsis:"Jinhyuk, a gaming Nutuber, was the only person who saw the ending of the game [Tower of Trials].<br>However, when the game’s popularity declined, it became difficult for him to continue making a living as a gaming Nutuber.<br>Since he already saw the ending of the game, he was about to quit playing. But that day, [Tower of Trials] became reality, and Jinhyuk, who knew about every single thing in the game, took over everything faster than anyone possibly could! “I’ll show you what a true pro is like.”",
slug:"solo-max-level-newbie",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:58:48 GMT",
  },
  {
      title:"The Newbie is Too Strong",
coverURL:"https://www.asurascans.com/wp-content/uploads/2022/06/Strong_Newbie_Cover.jpg",
shortURL:"https://www.asurascans.com/?p=105829",
MangaUrl:"https://www.asurascans.com/manga/1660333069-the-newbie-is-too-strong/",
synopsis:"JaeJu (which means “skill” in Korean) grew up without parents in an orphanage skillfully, just like his name suggests. One day, he heard that the orphanage was having a hard time and would have to close in 3 years. While trying to raise money for the orphanage, JaeJu got an alert on his phone. On it, he saw a video of himself climbing the tower as a BJ (broadcasting jockey aka streamer). Seven years ago, a tower suddenly appeared and randomly took people into it. If you successfully complete the tower and become an “Awakened”, it’s only a matter of time before you get rich!",
slug:"the-newbie-is-too-strong",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:59:36 GMT",
genre:
{0:"Action",
1:"Adventure",
2:"Fantasy",
3:"tower"}
  },
  {
      title:"Player Who Returned 10,000 Years Later",
coverURL:"https://www.asurascans.com/wp-content/uploads/2022/07/Player10000yearsCover02_copy.png",
shortURL:"https://www.asurascans.com/?p=116341",
MangaUrl:"https://www.asurascans.com/manga/1660333069-player-who-returned-10000-years-later/",
synopsis:"One day, out of the blue, he falls into hell. All he has with him is his desire to live and predatory powers. From the thousandth hell to the nine thousandth, he‘s devoured tens and hundreds of thousands of demons, and even the seven archdukes bowed down to him. “Why do you wish to go back? Your Highness already has everything in hell.“ “Everything, my ass.“ There’s nothing to eat or enjoy here! Hell’s nothing but desolate land full of terrible demons! “I will return.“ After ten thousand long years, he finally returns to Earth.",
slug:"player-who-returned-10000-years-later",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:58:25 GMT",
genre:
{0:"Action",
1:"Adventure",
2:"Comedy",
3:"Fantasy"}
  }
];

const recommendationData2 = [
  {
      title:"Return of the Mount Hua Sect",
coverURL:"https://www.asurascans.com/wp-content/uploads/2021/03/cover.jpg",
shortURL:"https://www.asurascans.com/?p=40871",
MangaUrl:"https://www.asurascans.com/manga/1660333069-return-of-the-mount-hua-sect/",
synopsis:"Chung Myung, The 13th Disciple of the Mount Hua Sect, One of the 3 Great Swordsmen, Plum Blossom Sword Saint, defeated Chun Ma, who has brought destruction and disarray onto the world. After the battle, he breathes his last breath on top of the headquarter mountain of the Heavenly Demon Sect. He is reborn after 100 years in the body of a child. ……What? The Mount Hua Sect has fallen? What kind of nonsense is that!?",
slug:"return-of-the-mount-hua-sect",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:58:36 GMT",
genre:
{0:"Adventure",
1:"Comedy",
2:"Fantasy",
3:"Martial Arts",
4:"Rebirth",
5:"Shounen"}
  },
  {
    title:"Damn Reincarnation",
coverURL:"https://www.asurascans.com/wp-content/uploads/2022/06/Damn_ReincarnationCover003.png",
shortURL:"https://www.asurascans.com/?p=107248",
MangaUrl:"https://www.asurascans.com/manga/1660333069-damn-reincarnation/",
synopsis:"[From the author of Worthless Regression]<br>Hamel, a warrior who traveled with his colleagues to exterminate the devil. Unfortunately, he died just before the battle with the devil started. “Yes.” What the hell? He was reborn as the descendant of his fellow warrior, Vermouth. The descendant from the bloodline of the great Vermouth, Hamel. No, he was now Eugene Lionhart. “It was already enough with me having the delusion that I was a genius in my past life. But… this… It’s… It’s incomparable.’ From a dying body to a new body, he has the achievement that he did not have in his previous life. And, a reincarnation of an unknown origin, the reality of living together with the demons. Facing a new world where everything is questionable. The journey of the unfinished previous life begins with Eugene’s body.",
slug:"damn-reincarnation",
_type:"asura",
ScrapeDate:"Sun, 18 Sep 2022 05:48:42 GMT",
genre:
{0:"Action",
1:"Adventure",
2:"Fantasy",
3:"Reincarnation",
4:"Shounen"}
},
  {
      title:"Reincarnation of the Suicidal Battle God",
coverURL:"https://www.asurascans.com/wp-content/uploads/2021/06/sogdobogdo.jpg",
shortURL:"https://www.asurascans.com/?p=49050",
MangaUrl:"https://www.asurascans.com/manga/1660333069-reincarnation-of-the-suicidal-battle-god/",
synopsis:"A time travel action fantasy of the strongest of mankind. “Even if the disgusting gods gave me this chance, an opportunity is still an opportunity. Since they want to end up dead, I will kill them.” The last survivor of mankind, Zephyr. The fight with the demons ended in defeat and the gods gave him a chance to go back 10 years in time. The demons who took everything away from humans and the gods who treated humans as beings for sight-seeing. This time, I will tear them to pieces.",
slug:"reincarnation-of-the-suicidal-battle-god",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:58:33 GMT",
genre:
{0:"Adventure",
1:"Fantasy",
2:"Overpowered",
3:"Returner",
4:"Shounen"}
  },
  {
      title:"Standard of Reincarnation",
coverURL:"https://www.asurascans.com/wp-content/uploads/2022/08/standardofReCover03.png",
shortURL:"https://www.asurascans.com/?p=119179",
MangaUrl:"https://www.asurascans.com/manga/1660333069-standard-of-reincarnation/",
synopsis:"The greatest martial family, Samion. Daven, a member of the Samion family, is a one-armed martial soldier without a right arm. Despite the ridicule and contempt he got for only having a left arm, he surpassed the direct line of the Samion family like a genius. However, he got betrayed by his family and parents in the end, thus meeting a poor end. But, he was reincarnated. “I have a right arm?” He had a new family tradition. A naturally gifted body. Experience from his past life. And the god Yulion with him as well. After his reincarnation, everything changed, and a new adventure started.",
slug:"standard-of-reincarnation",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:58:52 GMT",
genre:
{0:"Action",
1:"Adventure",
2:"Fantasy",
3:"Martial Arts",
4:"Reincarnation"}
  },
  {
      title:"Reaper of the Drifting Moon",
      coverURL:"https://www.asurascans.com/wp-content/uploads/2022/07/Reaper-Moon-Cover-Animation_Compressed.gif",
      shortURL:"https://www.asurascans.com/?p=112859",
      MangaUrl:"https://www.asurascans.com/manga/1660333069-reaper-of-the-drifting-moon/",
      synopsis:"[From the author of Legend Of The Northern Blade.]<br>He’s in the deepest part of the Jianghu. Keep your eyes wide ,open if you do not wish to get dragged into the abyss.",
      slug:"reaper-of-the-drifting-moon",
      _type:"asura",
      ScrapeDate:"Wed, 07 Sep 2022 20:58:26 GMT",
      genre:
{0:"Action",
1:"Fantasy",
2:"Genius MC",
3:"Martial Arts",
4:"Murim"}
  },
  {
      title:"Player Who Returned 10,000 Years Later",
coverURL:"https://www.asurascans.com/wp-content/uploads/2022/07/Player10000yearsCover02_copy.png",
shortURL:"https://www.asurascans.com/?p=116341",
MangaUrl:"https://www.asurascans.com/manga/1660333069-player-who-returned-10000-years-later/",
synopsis:"One day, out of the blue, he falls into hell. All he has with him is his desire to live and predatory powers. From the thousandth hell to the nine thousandth, he‘s devoured tens and hundreds of thousands of demons, and even the seven archdukes bowed down to him. “Why do you wish to go back? Your Highness already has everything in hell.“ “Everything, my ass.“ There’s nothing to eat or enjoy here! Hell’s nothing but desolate land full of terrible demons! “I will return.“ After ten thousand long years, he finally returns to Earth.",
slug:"player-who-returned-10000-years-later",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:58:25 GMT",
genre:
{0:"Action",
1:"Adventure",
2:"Comedy",
3:"Fantasy"}
  },
  {
      title:"Solo Max-Level Newbie",
      coverURL:"https://www.asurascans.com/wp-content/uploads/2021/07/solomaxlevelnewbie.jpg",
      shortURL:"https://www.asurascans.com/?p=52313",
      MangaUrl:"https://www.asurascans.com/manga/1660333069-solo-max-level-newbie/",
      synopsis:"Jinhyuk, a gaming Nutuber, was the only person who saw the ending of the game [Tower of Trials].<br>However, when the game’s popularity declined, it became difficult for him to continue making a living as a gaming Nutuber.<br>Since he already saw the ending of the game, he was about to quit playing. But that day, [Tower of Trials] became reality, and Jinhyuk, who knew about every single thing in the game, took over everything faster than anyone possibly could! “I’ll show you what a true pro is like.”",
      slug:"solo-max-level-newbie",
      _type:"asura",
      ScrapeDate:"Wed, 07 Sep 2022 20:58:48 GMT", 
  },
  {
      title:"Return of the Disaster-Class Hero",
coverURL:"https://www.asurascans.com/wp-content/uploads/2021/10/DisasterheroCover01.png",
shortURL:"https://www.asurascans.com/?p=61390",
MangaUrl:"https://www.asurascans.com/manga/1660333069-return-of-the-disaster-class-hero/",
synopsis:"I was the greatest hero on Earth.<br>“But he’s dead. How could the guy we’ve killed come back?”<br>“I dunno. But if he can come back, just let him.”<br>I really came back after 20 years?<br>“Why’re you so surprised? What? Did you do something to hurt your conscience?”<br>You bastards. Just you wait.",
slug:"return-of-the-disaster-class-hero",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:58:35 GMT",
  },
  {
      title:"Reformation of the Deadbeat Noble",
coverURL:"https://www.asurascans.com/wp-content/uploads/2021/05/Cover1-3.png",
shortURL:"https://www.asurascans.com/?p=46495",
MangaUrl:"https://www.asurascans.com/manga/1660333069-reformation-of-the-deadbeat-noble/",
synopsis:"Airen Parreira is a boy who sleeps to run away from reality. People mocked him, calling him a ‘deadbeat’, but he had no wish to change. Until one day, he dreamt of a swordsman… It was a dream about a talentless man who had been training by swinging his sword for decades.",
slug:"reformation-of-the-deadbeat-noble",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:58:27 GMT",
  },
  {
      title:"Swordmaster’s Youngest Son",
  coverURL:"https://www.asurascans.com/wp-content/uploads/2022/04/cover.jpg",
  shortURL:"https://www.asurascans.com/?p=96904",
  MangaUrl:"https://www.asurascans.com/manga/1660333069-swordmasters-youngest-son/",
  synopsis:"Jin Runcandel was the youngest son of Runcandel, the land’s most prestigious swordsman family…<br>And the biggest failure in Runcandel history.<br>He, who was kicked out miserably and came to a meaningless end, was given another chance.<br>“How do you want to use this power?”<br>“I want to use it for myself.”<br>Memories of his past life, overwhelming talent, and a contract with God…<br>The preparations to become the greatest are complete.",
  slug:"swordmasters-youngest-son",
  _type:"asura",
  ScrapeDate:"Wed, 07 Sep 2022 20:58:57 GMT",
  },
  {
      title:"Player Who Can’t Level Up",
coverURL:"https://www.asurascans.com/wp-content/uploads/2021/02/Player_That_Cant_Level_Up_Title_Card_-_Barak_kopya.jpg",
shortURL:"https://www.asurascans.com/?p=38049",
MangaUrl:"https://www.asurascans.com/manga/1660333069-player-who-cant-level-up/",
synopsis:"Gigyu Kim awakened as a player at the age of 18. He thought his life was on the track to success, climbing ‘the tower’ and closing ‘the gates’… But even after clearing the tutorial, he was level 1. He killed a goblin a day, and he was still level 1. Even after 5 years, he was still level 1. “Who would have thought that this kind of player would exist.” No one knew.",
slug:"player-who-cant-level-up",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:58:23 GMT",
  }
]

const updates = [{
  title:"Standard of Reincarnation",
coverURL:"https://www.asurascans.com/wp-content/uploads/2022/08/standardofReCover03.png",
shortURL:"https://www.asurascans.com/?p=119179",
MangaUrl:"https://www.asurascans.com/manga/1660333069-standard-of-reincarnation/",
synopsis:"The greatest martial family, Samion. Daven, a member of the Samion family, is a one-armed martial soldier without a right arm. Despite the ridicule and contempt he got for only having a left arm, he surpassed the direct line of the Samion family like a genius. However, he got betrayed by his family and parents in the end, thus meeting a poor end. But, he was reincarnated. “I have a right arm?” He had a new family tradition. A naturally gifted body. Experience from his past life. And the god Yulion with him as well. After his reincarnation, everything changed, and a new adventure started.",
slug:"standard-of-reincarnation",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:58:52 GMT",
frontChap1:3,
frontChap2:2,
frontChap3:1,
uploaded:"24 Hours ago",
},
{
title:"Archmage Transcending Through Regression",
coverURL:"https://asura.gg/wp-content/uploads/2022/10/resource.jpeg",
shortURL:"https://asura.gg/?p=135816",
MangaUrl:"https://asura.gg/manga/archmage-transcending-through-regression/",
synopsis:"Mikhail Walpurgis, the world’s only 9th-circle Archmage, fell in battle due to a damned hero, and managed to cast one final advanced magic spell, <TIME REVERSAL>. As time rewound, he regressed to 20 years ago.<br>“Fine. I’ll just become the hero instead.”",
slug:"archmage-transcending-through-regression",
_type:"asura",
frontChap1:6,
frontChap2:5,
frontChap3:4,
uploaded:"2 Days Ago",
},
{
title:"I Grow Stronger By Eating!",
coverURL:"https://www.asurascans.com/wp-content/uploads/2021/05/IMG_8074.png",
shortURL:"https://www.asurascans.com/?p=47213",
MangaUrl:"https://www.asurascans.com/manga/1660333069-i-grow-stronger-by-eating/",
synopsis:"Everyone has a talent of their own.<br>And the talent I have is ‘eating’.<br>A talent that shines much brighter in this world where countless powerful organisms dwell.<br>Feast Devour.<br>Consume the blood and flesh of the strong and make that yours.<br>Even if it’s a dragon, a demon king, or a god!",
slug:"i-grow-stronger-by-eating",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:57:53 GMT",
frontChap1:9,
frontChap2:8,
frontChap3:7,
uploaded:"3 Days Ago",
},
{
  title:"Reincarnated Escort Warrior",
coverURL:"https://www.asurascans.com/wp-content/uploads/2022/07/resource-1.png",
shortURL:"https://www.asurascans.com/?p=115735",
MangaUrl:"https://www.asurascans.com/manga/1660333069-reincarnated-escort-warrior/",
synopsis:"My dream is to become an escort warrior that rides on a cool horse and transports goods. But I’ve got a limp leg and I’m unable to learn decent martial arts. I’ve lived as a porter working odd jobs for the entirety of my life. Until I died because of the mountain bandits that I met during an escort mission.<br>But…<br>‘I became the fourth young master, Lee Jungryong?!’<br>When I died and woke up, I was reborn as the Heavenly Dragon Escort Agency’s infamous good-for-nothing youngest son.<br>The weakling, Lee Jungryong, will become the best escort warrior in this life!",
slug:"reincarnated-escort-warrior",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:58:30 GMT",
frontChap1:5,
frontChap2:4,
frontChap3:3,
uploaded:"3 Days Ago",
},
{
  title:"Youngest Scion of the Mages",
coverURL:"https://asura.gg/wp-content/uploads/2022/10/resource-1.jpeg",
shortURL:"https://asura.gg/?p=137338",
MangaUrl:"https://asura.gg/manga/youngest-scion-of-the-mages/",
synopsis:"It was a ridiculous piece of fiction, one that I’d be ashamed to call a novel. Yet, that was exactly what I was transmigrated into.<br>Larsen Mayton.<br>I became that supporting character, a wretched scoundrel who got purged at the age of 17.<br>Now, as the writer and creator, I shall reshape the world of the character Larsen Mayton.",
slug:"youngest-scion-of-the-mages",
_type:"asura",
ScrapeDate:"Tue, 11 Oct 2022 10:16:14 GMT",
frontChap1:8,
frontChap2:7,
frontChap3:6,
uploaded:"3 Days Ago",
},
{
  title:"The World After The End",
coverURL:"https://www.asurascans.com/wp-content/uploads/2022/02/the-world-after-the-end-cover.jpg",
shortURL:"https://www.asurascans.com/?p=76306",
MangaUrl:"https://www.asurascans.com/manga/1660333069-the-world-after-the-end/",
synopsis:"An original story, brought to you by the author of <Omniscient Reader’s Viewpoint>, Author Sing-Shong. This is about a man who didn’t regress when everyone else returned back to the past.<br>Humans were suddenly summoned to become “Walkers”, and they needed to clear the tower to save the world. . . Floor 77: The “Stone of Regression” was discovered.<br>Walkers could now “return” to the past. Slowly, everyone left. . . Humanity’s last hope, “Carpe Diem”, was formed, made up of people who refused to abandon the world. . . The last Walker reached floor 100.<br>He no longer knew what to believe.",
slug:"the-world-after-the-end",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:59:46 GMT",
frontChap1:4,
frontChap2:3,
frontChap3:2,
uploaded:"4 Days Ago",
},
{
  title:"The Tutorial is Too Hard",
coverURL:"https://www.asurascans.com/wp-content/uploads/2021/01/TheTutorialisTooHardCover02.png",
shortURL:"https://www.asurascans.com/?p=35065",
MangaUrl:"https://www.asurascans.com/manga/1660333069-the-tutorial-is-too-hard/",
synopsis:"Gandara’s fusion fantasy novel, ‘The Tutorial is Too Hard’, is now here as a webtoon.<br>One day, amidst a boring life, an invitation message appears before my eyes. [Would you like to enter the tutorial world?]<br>Following it is a difficulty-selection window. [Easy] [Normal] [Hard] [Hell]. I select hell-difficulty without hesitation.<br>And I regret it.<br>I know it said hell-difficulty, but this is just too much.",
slug:"the-tutorial-is-too-hard",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:59:44 GMT",
frontChap1:3,
frontChap2:2,
frontChap3:1,
uploaded:"4 Days Ago",
},
{
  title:"Rise From The Rubble",
coverURL:"https://www.asurascans.com/wp-content/uploads/2021/04/rise.jpg",
shortURL:"https://www.asurascans.com/?p=43309",
MangaUrl:"https://www.asurascans.com/manga/1660333069-rise-from-the-rubble/",
synopsis:"10 years after the night of starfall, city S was destroyed by the biggest recorded monster outbreak in history. Zuo Fan, carrying the name of [A traitor’s son], as well as being the most useless starfall warrior reserve who ran away, awakened the Super Warrior System during a trap disguised as a raid. Since then, he has embarked on the road of success, rising like a meteor. All the while, searching for the truth of his father’s treason amidst the strong opposition, and gradually commencing on the thorny road of saving the world.",
slug:"rise-from-the-rubble",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:58:41 GMT",
frontChap1:6,
frontChap2:5,
frontChap3:4,
uploaded:"5 Days Ago",
},
{
  title:"Player Who Can’t Level Up",
coverURL:"https://www.asurascans.com/wp-content/uploads/2021/02/Player_That_Cant_Level_Up_Title_Card_-_Barak_kopya.jpg",
shortURL:"https://www.asurascans.com/?p=38049",
MangaUrl:"https://www.asurascans.com/manga/1660333069-player-who-cant-level-up/",
synopsis:"Gigyu Kim awakened as a player at the age of 18. He thought his life was on the track to success, climbing ‘the tower’ and closing ‘the gates’… But even after clearing the tutorial, he was level 1. He killed a goblin a day, and he was still level 1. Even after 5 years, he was still level 1. “Who would have thought that this kind of player would exist.” No one knew.",
slug:"player-who-cant-level-up",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:58:23 GMT",
frontChap1:9,
frontChap2:8,
frontChap3:7,
uploaded:"5 Days Ago",
},
{
  title:"Worn and Torn Newbie",
coverURL:"https://www.asurascans.com/wp-content/uploads/2020/11/cover-worn.jpg",
shortURL:"https://www.asurascans.com/?p=28414",
MangaUrl:"https://www.asurascans.com/manga/1660333069-worn-and-torn-newbie/",
synopsis:"15 years remain till termination of service. The ending is known only to me. ‘I am a veteran’.",
slug:"worn-and-torn-newbie",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:59:55 GMT",
frontChap1:5,
frontChap2:4,
frontChap3:3,
uploaded:"6 Days Ago",
},
{
  title:"I Obtained a Mythic Item",
coverURL:"https://www.asurascans.com/wp-content/uploads/2022/06/IObtainedaMythicItemCover04.png",
shortURL:"https://www.asurascans.com/?p=104880",
MangaUrl:"https://www.asurascans.com/manga/1660333069-i-obtained-a-mythic-item/",
synopsis:"D-Rank non-combat raider becomes a great enemy of god that will save the world with the strongest restoration item.",
slug:"i-obtained-a-mythic-item",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:57:54 GMT",
frontChap1:3,
frontChap2:2,
frontChap3:1,
uploaded:"6 Days Ago",
},
{
  title:"Player Who Returned 10,000 Years Later",
coverURL:"https://www.asurascans.com/wp-content/uploads/2022/07/Player10000yearsCover02_copy.png",
shortURL:"https://www.asurascans.com/?p=116341",
MangaUrl:"https://www.asurascans.com/manga/1660333069-player-who-returned-10000-years-later/",
synopsis:"One day, out of the blue, he falls into hell. All he has with him is his desire to live and predatory powers. From the thousandth hell to the nine thousandth, he‘s devoured tens and hundreds of thousands of demons, and even the seven archdukes bowed down to him. “Why do you wish to go back? Your Highness already has everything in hell.“ “Everything, my ass.“ There’s nothing to eat or enjoy here! Hell’s nothing but desolate land full of terrible demons! “I will return.“ After ten thousand long years, he finally returns to Earth.",
slug:"player-who-returned-10000-years-later",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:58:25 GMT",
frontChap1:7,
frontChap2:6,
frontChap3:5,
uploaded:"6 Days Ago",
},
{
  title:"My Daughter is a Dragon!",
coverURL:"https://www.asurascans.com/wp-content/uploads/2022/08/resource-1.jpeg",
shortURL:"https://www.asurascans.com/?p=125540",
MangaUrl:"https://www.asurascans.com/manga/my-daughter-is-a-dragon/",
synopsis:"Jihoon was leading a draining life due to his demanding professor, when one day, his daughter fell out of thin air!<br>Thanks to Chaerin, who was as smart and pretty as an elf, things started to look up for him. His skin started to get better, his eyesight and intelligence improved, and he even got taller and more handsome.<br>This was all according to his daughter Chaerin’s plans!<br>Jihoon, who used to be an ordinary science and engineering university student, became a researcher leading the Fourth Industrial Revolution, AI!",
slug:"my-daughter-is-a-dragon",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:58:14 GMT",
frontChap1:9,
frontChap2:8,
frontChap3:7,
uploaded:"7 Days Ago",
},
{
  title:"Genius of the Unique Lineage",
coverURL:"https://www.asurascans.com/wp-content/uploads/2022/08/geniusLineageCover01.png",
shortURL:"https://www.asurascans.com/?p=117672",
MangaUrl:"https://www.asurascans.com/manga/1660333069-genius-of-the-unique-lineage/",
synopsis:"I want to be someone who kills invaders<br>__<br>I want to kill invaders and live a happy daily life in a special world.<br>Can’t I just ask for that?<br>Why? Why can’t I do that?<br>People say chasing two different rabbits will make you miss both, but…<br>just don’t miss them.",
slug:"genius-of-the-unique-lineage",
_type:"asura",
ScrapeDate:"Wed, 07 Sep 2022 20:57:41 GMT",
frontChap1:9,
frontChap2:8,
frontChap3:7,
uploaded:"8 Days Ago",
}]

//Define all the genres for the site
function getGenres(){
  const genres = ["Action ","Adult ","Adventure ","Comedy ","Cooking ","Doujinshi ","Drama ","Ecchi ","Fantasy ","Gender bender ","Harem ","Historical ","Horror ","Isekai ","Josei ","Manhua ","Manhwa ","Martial arts ","Mature ","Mecha ","Medical ","Mystery ","One shot ","Psychological ","Romance ","School life ","Sci fi ","Seinen ","Shoujo ","Shoujo ai ","Shounen ","Shounen ai ","Slice of life ","Smut ","Sports ","Supernatural ","Tragedy ","Webtoons ","Yaoi ","Yuri "]


//Randomly Select Genres
  var pickedGenres3 = new Set([genres[Math.trunc(Math.random()*40)],genres[Math.trunc(Math.random()*40)],genres[Math.trunc(Math.random()*40)]])
  var pickedGenres5 = new Set([genres[Math.trunc(Math.random()*genres.length)],genres[Math.trunc(Math.random()*genres.length)],genres[Math.trunc(Math.random()*genres.length)]])

  return `${[...pickedGenres3]}`
}


const container = document.querySelector('.container');
const topNav = document.querySelector('.top-nav');
const bottomNav = document.querySelector('.bottom-nav');

const topContainer = document.querySelector('.top-container');
const trendImg = document.getElementById('trendImg');
const trendTitle = document.querySelector('.trending-title');

const trendingA = document.getElementById('trendingA');
const imgRandom = document.querySelectorAll('#imgRandom');
const searchTerm = document.getElementById('search-bar');
const recommendations = document.querySelector('.rec');
const title = document.querySelector('rec-title');
const results = document.querySelector('.results');
const imgEl = document.querySelectorAll('img');
const cellContainer = document.querySelector('.cell-container');
const recContainer = document.querySelector('.rec-container');
const containerPopular = document.querySelector('.container-popular')
const latestUpdateContainer = document.querySelector('.latest-update-container')
const containerSlide = document.querySelector('container-slide');
const chapterContainer = document.querySelector('.chapter__container');
const mangaDataContainer = document.querySelector('.manga-data__container');
const commentSection = document.querySelector('.commentSection');
const chapterList = document.querySelector('.chapter-list');
const chapterButtonsContainer = document.querySelector('.chapter-buttons__container')
const weeklyEl = document.getElementById('weekly');
const monthlyEl = document.getElementById('monthly')
const allEl = document.getElementById('all');
const nextBtn = document.querySelector('.next-btn')

let slideIndex = 1;
showSlides(slideIndex);
setInterval(function() {
showSlides(slideIndex += 1);
}, 5000);

// Next/previous controls
function plusSlides(n) {
    showSlides(slideIndex += n);
}

// Thumbnail image controls
function currentSlide(n) {
    showSlides(slideIndex = n);
}

function showSlides(n) {
    let i;
    let slides = document.getElementsByClassName("mySlides");
    let dots = document.getElementsByClassName("dot");
    if (n > slides.length) { slideIndex = 1 }
    if (n < 1) { slideIndex = slides.length }
    for (i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
    }
    for (i = 0; i < dots.length; i++) {
        dots[i].className = dots[i].className.replace(" active", "");
    }
    slides[slideIndex - 1].style.display = "block";
    dots[slideIndex - 1].className += " active";

}


const options = {
	method: 'GET',
	headers: {
		'X-RapidAPI-Key': '',
		'X-RapidAPI-Host': 'manga-scrapper.p.rapidapi.com'
	}
};



const Ratings = [
  {
    rate:"9.9",
  },
  {
    rate:"9.7",
  },
  {
    rate:"9.7",
  },
  {
    rate:"9.7",
  },
  {
    rate:"9.7",
  },
]


getTrendingImg()
async function getTrendingImg(){
const response = await fetch('https://manga-scrapper.p.rapidapi.com/search?q=action', options)
const data = await response.json()
.catch(err => console.log(err));
const trendingEl = document.createElement('div');
    trendingEl.classList.add('trending');
    trendingEl.innerHTML=`
    <a href="trending">
    <img src=${data[Math.trunc(Math.random()*data.length)].coverURL}
    width="196.500px" height="280" alt="">

    </a>
    <h3 class="trending-title">ELITE SCANS <br>Trending This Week</h3>`;
    topContainer.appendChild(trendingEl);
}

getSlider();
 async function getSlider(){
    const response = await fetch(`https://manga-scrapper.p.rapidapi.com/search?q=fantasy&size=10&provider=asura`, options)   
    
    const data = await response.json()

    showSlider(data)
    showPopular(data)
 }

 function showSlider(data){
    const slider = document.querySelectorAll('.mySlides');
    let data1 = "";
    let data2 = "";
    let data3 = "";

    slider.forEach((sli, idx)=>{
      const {coverURL,synopsis, title, slug} = data[idx] ;
      if (idx === 0) {
        data1 = {coverURL,synopsis, title, slug};
      } else if (idx === 1){
        data2 = {coverURL,synopsis, title, slug};
      } else if (idx === 2) {
        data3 = {coverURL,synopsis, title, slug};
      }

        const synopsisSlice = [synopsis.slice(0,161)] + '...';
           
        const slideEl = document.createElement('div');
        slideEl.classList.add('slide-container')
        slideEl.innerHTML=
        `
        <h3 class="slide-title">${title}</h3>
        </a>
        <a href="">
            <h6 class="slide-genre">${getGenres()}</h6>
        </a>
        <p class="summary-title">Summary</p>
        <p class="summary-text">${synopsisSlice}</p>
        
            <img
                    src=${coverURL}
                    alt="" class="img-slide" width="120px" height="200px">
            <div class="slideImg">
                <img src=${coverURL}
                    style="width: 619px" >
            `
            slider[idx].appendChild(slideEl);
            const imgSlide = slideEl.querySelector('.img-slide');
            imgSlide.addEventListener('click',()=>{
              if(idx==0){
                removeElements()
              getMangaInfo(data1,slug)
              }else if(idx ==1){
                removeElements()
              getMangaInfo(data2,slug)
              }else if(idx==2){
                removeElements()
              getMangaInfo(data3,slug)
              }
            }
              )

    })
        
        
}


//Get the Data for latest Updates
getLatestUpdates()
async function getLatestUpdates(){

//   const response = await fetch('https://manga-scrapper.p.rapidapi.com/updates?day=7&provider=asura', options)
//   const data = await response.json();
//   console.log(data)
  
//   const response2 = await fetch('https://manga-scrapper.p.rapidapi.com/webtoons/youngest-scion-of-the-mages?provider=asura', options)
//   const data2 = await response.json();
 
// // const {chapterNav,
// // chapterNum,
// // contentURL,
// // fullTitle,
// // provider_webtoon,
// // shortTitle,
// // shortURL,
// // slug,
// // sourceURL,
// // updatedAt} = updatesData
  
    updates.map((manga )=>{
        const {title,coverURL,shortURL,MangaUrl,synopsis,slug,_type,frontChap1,frontChap2,frontChap3, uploaded}= manga;
        const cellEl = document.createElement('div');

       
        cellEl.classList.add("cell");
cellEl.innerHTML = `
    <div class="manga-container">
        <img src=${coverURL} alt="${title}" class="latest-img" width="100" height="150"  >
    <div class="manga-info">
        <label id="latest-title">${
          title.length > 30
            ? title.slice(0, 30) + "..."
            : title
        }</label>
        <ul>
            <li>Chapter ${frontChap1}<span class="dAgo">${uploaded}</span></li>
            <li>Chapter ${frontChap2}<span class="dAgo">${uploaded}</span></li>
            <li>Chapter ${frontChap3}<span class="dAgo">${uploaded}</span></li>
        </ul>
    </div>
</div>
    `;

    cellContainer.appendChild(cellEl);
    const coverURLEl = cellEl.querySelector(".latest-img");
    coverURLEl.addEventListener("click", () => {
      removeElements()
            
            
            getMangaInfo(manga,slug) 

          });
          const mangaInfoEl = cellEl.querySelector(".manga-info ul");
const mangaChapterEls = mangaInfoEl.querySelectorAll("li");
mangaChapterEls.forEach((mangaChapterEl, index) => {
  mangaChapterEl.addEventListener("click", () => {
 
    if (index === 0) {
      removeElements()
      showMangaChapters(slug,frontChap1)
    } else if (index === 1) {
      removeElements()
      showMangaChapters(slug,frontChap2) 
    } else if (index === 2) {
      showMangaChapters(slug,frontChap3)
      removeElements()
    }

  });
});
});
}
/////////////////////Next Btn///////////////////////////////////
nextBtn.addEventListener('click', ()=> location.reload())



///Remove Elements//////////////
function removeElements(){
  latestUpdateContainer.classList.toggle("display");
      containerPopular.classList.toggle("display");
      topContainer.classList.toggle("display");
}

////////////////Recommendation Buttons


///////////////Show Recommendations
showRecommendations(recommendationData)
function showRecommendations(recommendations) {
  
  recommendations.map((rec)=>{


    const {title,coverURL,shortURL,MangaUrl,synopsis,slug,_type} = rec;
    const recEl = document.createElement("div");
    
    recEl.classList.add("rec");
    recEl.innerHTML = `
            <img src=${coverURL} class="rec-img" width="58px" height="78px" alt="">
            <div class="rec-title">${
              title.length > 30
                ? title.slice(0, 30) + "..."
                : title
            }</div>
            <p class="genres"><span class="gSpan">Genres: </span>Adventure, Comedy, Fantasy, Martial Arts, Rebirth<br><i class="fa-solid fa-star"></i>10</p>
        </div>
        `;
    recEl.addEventListener("click", () => getMangaInfo(rec, slug));
    recContainer.appendChild(recEl);

    

    const coverURLEl = recEl.querySelector(".rec-img");
    coverURLEl.addEventListener("click", () => {
      latestUpdateContainer.classList.add("display");
      containerPopular.classList.add("display");
      topContainer.classList.add("display");
    });
});
}

weeklyEl.addEventListener('click', () => {
  recContainer.innerHTML = '';
  showRecommendations(recommendationData);
});

monthlyEl.addEventListener('click', () => {
  recContainer.innerHTML = '';
  showRecommendations(recommendationData2);
});

allEl.addEventListener('click', () => {
  recContainer.innerHTML = '';
  showRecommendations(recommendationData);
});






//Get the Data for the popular section
function showPopular(popular){ 
    let newArr = popular.splice(0,5);

    newArr.forEach((pop, i) => {
      const popGrid = document.querySelector('.popGrid');
      const {coverURL, title, slug} = pop;
                   
      const popEl = document.createElement('div');
      popEl.classList.add('popular')
      popEl.innerHTML=
        `
        <img src="${coverURL}" width="147px" height="201px" alt="random image">
        <h3 class="pop-title">${title}</h3>
        `;
    
      for (let j = 0; j < 5; j++) {
        popEl.innerHTML += '<i class="fa-solid fa-star ratings"></i>';
      }
      popEl.innerHTML += ` ${Ratings[i].rate}`;
    
      popGrid.appendChild(popEl);
    
      popEl.addEventListener('click',() => {
        removeElements()
        getMangaInfo(pop,slug)
      })
    });
    }

 //Get Request for the search button in Nav bar
async function search (){
    const response = await fetch(`https://manga-scrapper.p.rapidapi.com/search?q=${searchTerm.value}&size=10&provider=asura`, options)                      
    const data = await response.json()
    .catch(err => console.log(err));
      
    if(data){
      showResults(data)   
    }
    
    
}   

function showResults(manga){
  results.innerHTML ="";
  results.classList.toggle('display');
  manga.forEach((man) => {
    const {coverURL,shortURL, synopsis, title,slug} = man;

    const resultsEl = document.createElement('div');
    resultsEl.classList.add('searchCell');
    resultsEl.innerHTML=`
      <img src=${coverURL} width="40px" height="54px" class="search-img">
      <div>
        <p>${title}</p>
        <p>${getGenres()}</p>
      </div>      
    `
    
    results.appendChild(resultsEl);
    const searchImg = document.querySelectorAll('.search-img');
    searchImg.forEach((searchImg) => {
      searchImg.addEventListener('click',() => {
        results.removeChild(resultsEl);
        removeElements()
        results.classList.add('display')
        latestUpdateContainer.classList.add('display');
        containerPopular.classList.add('display');
        topContainer.classList.add('display');
        getMangaInfo(man,slug);
      });
    });
  });

  results.addEventListener('mouseleave', () => {
    results.classList.add('display');
  });
}

searchTerm.addEventListener('keydown',(event)=>{
    if(event.key == 'Enter'){  
        search();
    }
})

imgEl.forEach((img) => {
img.addEventListener('click', () => {
    latestUpdateContainer.classList.toggle('display');
    containerPopular.classList.toggle('display');
    topContainer.classList.toggle('display');
  });
});

async function showMangaChapters(slug,chNum){
    const response = await fetch(`https://manga-scrapper.p.rapidapi.com/chapters/${slug}-chapter-${chNum}?provider=asura&webtoon=${slug}`, options)
    const data =  await response.json();data 


    const response2 = await fetch(`https://manga-scrapper.p.rapidapi.com/chapters/all?provider=asura&webtoon=${slug}`, options)  
                            
    const data2 =  await response2.json();data2
  
  if(data && data.contentURL && slug && data2){

    getChapter(data,slug, data2,data.contentURL)
    
  }else{
    console.log('data not available')
  }

 
}

async function showMangaChapters2(slug,ch){
  
  const response = await fetch(`https://manga-scrapper.p.rapidapi.com/chapters/${slug}-chapter-${ch}?provider=asura&webtoon=${slug}`, options);
               
  const data =  await response.json(); 
  const response2 = await fetch(`https://manga-scrapper.p.rapidapi.com/chapters/all?provider=asura&webtoon=${slug}`, options);   
                                       
  const data2 =  await response2.json();
  console.log(data)
  chapterContainer.classList.toggle('display');

  if(data && data2 && slug){
    getChapter(data,slug,data2,data.contentURL);
  }
}

//Show the chapters that are available to read
const chapterListChapters = document.querySelector('.chapter-list__chapters');
           
//Get Manga Info
async function getMangaInfo(manga, slug) {
  let data;
  let data2;
  try {
    const response = await fetch(`https://manga-scrapper.p.rapidapi.com/webtoons/${slug}/?provider=asura`, options)
    const response2 = await fetch(`https://manga-scrapper.p.rapidapi.com/chapters/all?provider=asura&webtoon=${slug}`, options)
    
    data = await response.json();
    data2 = await response2.json();
    if(data && data2){
      
    }else{
      console.log('data not currently available')
    }
  } catch (err) {
    console.error(err)
  }

  
  const mangaDataImageEl = document.querySelector('.manga-data__image-container') || document.createElement('div');
  if (!mangaDataImageEl.classList.contains('manga-data__image-container')) {
    mangaDataImageEl.classList.add('manga-data__image-container');
  }
  mangaDataImageEl.innerHTML ="";
  mangaDataImageEl.innerHTML = `
              <img src=${manga.coverURL}  alt=${manga.shortURL} class="manga-data__image">
              <span>status: ongoing</span>
              <span>type: Manhua</span>
              <span>stars: 4</span>
              `;
              

  //////////////////////////////Chapter List//////////////////////////////////////////
  let chDataArr = [];
  if(data2){
    data2.sort((a, b) => a.chapterNum - b.chapterNum)
      .map((chData) => {
        const {chapterNum, createdAt} = chData;
        const chapterListChapter = document.querySelector(`.chapter-list__chapter[data-chapter="${chapterNum}"]`) || document.createElement('div');
        if (!chapterListChapter.classList.contains('chapter-list__chapter')) {
          chapterListChapter.classList.add('chapter-list__chapter');
        }
        chapterListChapter.setAttribute('data-chapter', chapterNum);

        chapterListChapter.innerHTML =''
        chapterListChapter.innerHTML = `
          ${chapterNum} <span> ${createdAt} </span>
        `;
        chDataArr.push(chapterNum);
        
        if (!chapterListChapter.hasAttribute('data-event')) {
          chapterListChapter.addEventListener('click', () => showMangaChapters(manga.slug, chapterNum));
          chapterListChapter.setAttribute('data-event', true);
        }

        if (!chapterListChapters.contains(chapterListChapter)) {
          chapterListChapters.appendChild(chapterListChapter);
        }

      });
  }else if (manga){
      manga.sort((a, b) => a.chapterNum - b.chapterNum)
        .map((chData) => {
          const {chapterNum, createdAt} = chData;
          const chapterListChapter = document.querySelector(`.chapter-list__chapter[data-chapter="${chapterNum}"]`) || document.createElement('div');
          if (!chapterListChapter.classList.contains('chapter-list__chapter')) {
            chapterListChapter.classList.add('chapter-list__chapter');
          }
          chapterListChapter.setAttribute('data-chapter', chapterNum);
          chapterListChapter.innerHTML = `
            ${chapterNum} <span> ${createdAt} </span>
          `;
          chDataArr.push(chapterNum);
          
          if (!chapterListChapter.hasAttribute('data-event')) {
            chapterListChapter.addEventListener('click', () => showMangaChapters(manga.slug, chapterNum));
            chapterListChapter.setAttribute('data-event', true);
          }
  
          if (!chapterListChapters.contains(chapterListChapter)) {
            chapterListChapters.appendChild(chapterListChapter);
          }
  
        });

  }
              
  /////////////////////////////GET INFO FOR 1ST AND LAST CHAPTER BUTTONS
  const chapterListButtonsEl = document.querySelector('.chapter-list__buttons') || document.createElement('div');
  if (!chapterListButtonsEl.classList.contains('chapter-list__buttons')) {
    chapterListButtonsEl.classList.add('chapter-list__buttons');
    chapterListButtonsEl.innerHTML = '';
    chapterListButtonsEl.innerHTML =`
      <div class="chapter-list__btn firstCh">
        First Chapter
        <p>${data2[0].chapterNum}</p>
      </div>
      <div class="chapter-list__btn newCh">
        New Chapter
        <p>${data2[data2.length-1].chapterNum}</p>
      </div>           
      `;
    chapterList.prepend(chapterListButtonsEl);
    const firstChapterBtn = document.querySelector('.firstCh');
    const newChapterBtn = document.querySelector('.newCh');
  
    firstChapterBtn.addEventListener('click', () => showMangaChapters(data.slug,data2[0].chapterNum));
    newChapterBtn.addEventListener('click', () => showMangaChapters(data.slug,data2[data2.length-1].chapterNum));
  }
  

  const mangaDataTextEl = document.createElement('div');
  mangaDataTextEl.classList.add('manga-data__text');
  mangaDataTextEl.innerHTML = `
    <div class="manga-data__title">${manga.title}</div>
    <div class="manga-data__synopsis">
      <h3>Synopsis ${manga.title}</h3>
      <p>${manga.synopsis}</p>
      <p>Updated on ${manga.uploaded}</p>
      <p>${data.genre}</p>
    </div>
  `;
  mangaDataContainer.innerHTML="";
  mangaDataContainer.prepend(mangaDataImageEl);
  mangaDataContainer.appendChild(mangaDataTextEl);
  
  mangaDataContainer.classList.remove('display');
  chapterList.classList.remove('display');        
}

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            
            //Get Clicked Chapter then show its info
            function getChapter(data,slug,chapters,images) {
              chapterContainer.innerHTML="";
              chapterButtonsContainer.innerHTML="";
              


              
              const chapterTitleEl = document.createElement('div');
              chapterTitleEl.classList.add('chapter-title');
              chapterTitleEl.innerHTML =`${data.fullTitle}`
              chapterContainer.prepend(chapterTitleEl);
              


              const existingChapterButtonsList = document.querySelector('.chapter-buttons__list');
              if (existingChapterButtonsList) {
                existingChapterButtonsList.remove();
              }
            
              const chapterButtonsList = document.createElement('select');
              chapterButtonsList.classList.add('chapter-buttons__list');
            
              const optionElements = chapters.sort((a, b) => a.chapterNum - b.chapterNum).map((chapter) => {
                const optionEl = document.createElement('option');
                optionEl.innerHTML = `Chapter ${chapter.chapterNum}`;
                optionEl.value = chapter.chapterNum;
                return optionEl;
              });
            
              optionElements.forEach((optionEl) => {
                chapterButtonsList.appendChild(optionEl);
              });
            
              chapterButtonsList.addEventListener('change', (event) => {
                const selectedOption = event.target.value;
                showMangaChapters(slug,selectedOption)
              });
            
              chapterButtonsContainer.appendChild(chapterButtonsList);
              const chapterButtonsChangeChapter = document.createElement('div');
              chapterButtonsChangeChapter.classList.add('chapter-buttons__change-chapter');
              chapterButtonsChangeChapter.innerHTML=""
              chapterButtonsChangeChapter.innerHTML =`
                <div class="nextCh">Next <i class="fa-solid fa-greater-than"></i></div>
                <div class="prevCh"><i class="fa-solid fa-less-than"></i> Prev</div>
              `;
              chapterButtonsContainer.appendChild(chapterButtonsChangeChapter);
              const nextCh = document.querySelector('.nextCh');
              const prevCh = document.querySelector('.prevCh');

              if(data.chapterNum > chapters[0].chapterNum){
              prevCh.addEventListener('click',()=>showMangaChapters2(slug,data.chapterNum-1))
              } else if(data.chapterNum < chapters[0].chapterNum){
                nextCh.style.backgroundColor= 'gray';
              }
              
              if(data.chapterNum < chapters.length){
                nextCh.addEventListener('click',()=>showMangaChapters2(slug,data.chapterNum+1))
              } else if(data.chapterNum > chapters[0].chapterNum){
                prevCh.style.backgroundColor= 'gray';
              }
              
              
              
              

            
              const chapterImagesEl = document.createElement('div');
              chapterImagesEl.classList.add('chapter__images');
            
              // Show images for the chapter
              images.map(image => {
                const imageEl = document.createElement('img');
                imageEl.src = image;
                imageEl.alt = `Chapter image`;
                chapterImagesEl.appendChild(imageEl);
                47

                
                chapterContainer.appendChild(chapterImagesEl);
              });
            
              chapterButtonsContainer.classList.remove('display');
              mangaDataContainer.classList.add('display');
              chapterList.classList.add('display');
              chapterContainer.classList.remove('display');
              commentSection.classList.remove('display');
              backToTopBtn.classList.remove("display");  
              recContainer.classList.add("display");             
            }
            
            //Button to go back to the top of the page
            const backToTopBtn = document.createElement("div");
            backToTopBtn.classList.add("display")
            backToTopBtn.innerHTML = `<i class="fa-solid fa-chevron-up"></i>`;
            backToTopBtn.style.position = "fixed";
            backToTopBtn.style.bottom = "100px";
            backToTopBtn.style.right = "20px";
            document.body.appendChild(backToTopBtn);
            backToTopBtn.addEventListener("click", function() {
              window.scrollTo(0, 0);
            });

  // Retrieve comments from local storage
  const comments = JSON.parse(localStorage.getItem("comments")) || [];
  const commentsContainer = document.getElementById("comments");

  // Display existing comments
  comments.forEach(function(comment) {
    displayComment(comment);
  });

  const addCommentBtn = document.getElementById("addCommentBtn");
  addCommentBtn.addEventListener("click", function() {
    const username = document.getElementById("username").value;
    const newComment = document.getElementById("newComment").value;
    if (!username || !newComment) {
      alert("Please enter a name and a comment.");
      return;
    }
    const comment = {username, newComment};
    comments.push(comment);
    localStorage.setItem("comments", JSON.stringify(comments));
    displayComment(comment);
  });


//Button to clear the comments
  const clearCommentsBtn = document.getElementById("clearCommentsBtn");
  clearCommentsBtn.addEventListener("click", function() {
    localStorage.removeItem("comments");
    commentsContainer.innerHTML = "";
  });


//Function to display comments
  function displayComment(comment, replyTo) {
    if (comment.newComment.length > 200) {
      alert("Comment must be less than 200 characters.");
      return;
    }
    const newCommentElement = document.createElement("div");
    newCommentElement.innerHTML = `<b>${comment.username}:</b> ${comment.newComment}`;
    newCommentElement.style.marginLeft = replyTo ? "20px" : "0px";
    newCommentElement.style.fontSize = replyTo ? "0.8em" : "1em";
    newCommentElement.classList.add("comment");
    commentsContainer.appendChild(newCommentElement);
    // ... rest of the code
    const replyBtn = document.createElement("button");
    replyBtn.innerHTML = "Reply";
    replyBtn.style.marginLeft = "10px";
    replyBtn.classList.add("reply-btn");
    replyBtn.addEventListener("click", function() {
      const replyUsername = prompt("Enter your name:");
      const replyText = prompt("Enter your reply:");
      if (replyUsername && replyText) {
        const replyComment = {username: replyUsername, newComment: replyText};
        comments.push({...comment, reply: replyComment});
        localStorage.setItem("comments", JSON.stringify(comments));
        displayComment(replyComment, true);
      }
    });
    newCommentElement.appendChild(replyBtn);
    if (comment.reply) {
      displayComment(comment.reply, true);
    }
  }



